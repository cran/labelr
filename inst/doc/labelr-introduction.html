<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Labelr - An Introduction</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Labelr - An Introduction</h1>



<div id="a-whirlwind-tour" class="section level2">
<h2>A Whirlwind Tour</h2>
<p>labelr supports creation and use of multiple types of labels for
data.frames and their columns. This is an ad hoc introduction to core
and ancillary labelr functionalities and uses cases.</p>
</div>
<div id="types-of-labels" class="section level2">
<h2>Types of Labels</h2>
<p>labelr supports the following kinds of labels:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Frame labels</strong> - Each data.frame may be given a
single “frame label”, which can be used describe the data set’s key
general features or characteristics (e.g., source, date produced or
published, high-level contents).</p></li>
<li><p><strong>Name labels</strong> - Each data.frame column (variable)
may be given exactly one name label, which is an extended variable name
or brief description of the variable. Name labels equivalent to what
Stata and SAS call “variable labels.”</p></li>
<li><p><strong>Value labels</strong> - Specific values of a data.frame
column (variable) can be labeled as well. The package supports three (3)
kinds of value labels.</p>
<ul>
<li><p><em>One-to-one labels</em> - The canonical value-labeling use
case entails mapping distinct values of a variable to distinct labels in
a one-to-one fashion, so that each value label uniquely identifies a
substantive value. For instance, an administrative data set might assign
the integers 1-7 to seven distinct racial/ethnic groups, and value
labels would be critical in mapping those numbers to socially
substantive racial/ethnic category concepts (e.g., Which number
corresponds to the category “Asian American?”).</p></li>
<li><p><em>Many-to-one labels</em> - In an alternative use case, value
labels may serve to distill or “bucket” distinct variable values in a
way that deliberately “throws away” information for purposes of
simplification. For example, one may wish to give the single label
“Agree” to the responses “Very Strongly Agree,” “Strongly Agree,” and
“Agree.” Or one may wish to differentiate self-identified “White”
respondents from “People of Color,” applying the latter value label to
all categories other than “White.”</p></li>
<li><p><em>Numerical range labels</em> - Finally, one may wish to carve
a numerical variable into qualitative bins, such as dichotomizing a
variable or dividing it into quantiles. Numerical range labels support
one-to-many assignment of a single value label to a range of numerical
values for a given variable.</p></li>
</ul></li>
</ol>
</div>
<div id="core-use-cases-and-capabilities" class="section level2">
<h2>Core Use Cases and Capabilities</h2>
<p>More specifically, labelr functions support the following
actions:</p>
<ol style="list-style-type: decimal">
<li><p>Assigning variable value labels, name labels, and a frame label
to data.frames and modifying those labels thereafter.</p></li>
<li><p>Generating and accessing simple look-up table-style data.frames
to inform or remind you about a data.frame’s frame labels, its columns’
name labels, or the value labels that correspond to its unique
values.</p></li>
<li><p>Swapping out variable (column) names for variable name labels and
back again.</p></li>
<li><p>Replacing variables’ actual values with their corresponding value
labels.</p></li>
<li><p>Augmenting a data.frame by adding columns of variable value
labels that can exist alongside the original columns (variables) from
which they were derived.</p></li>
<li><p>Engaging in <code>base::subset()</code>-like row-filtering, using
value labels to guide the filtering but returning a subsetted data.frame
in terms of the original variable values.</p></li>
<li><p>Tabulating value frequencies that can be expressed in terms of
raw values or value labels – again, without explicitly modifying or
converting the raw data.frame values.</p></li>
<li><p>Preserving and restoring a data.frame’s labels in the event that
some unsupported R operation destroys them.</p></li>
<li><p>Applying a single value-labeling scheme to many variables at once
(for example, assigning the same set of Likert-scale labels to all
variables that share a common variable name character
substring).</p></li>
</ol>
</div>
<div id="disclaimer-regarding-base-r-data-frames" class="section level2">
<h2>Disclaimer Regarding Base R Data Frames</h2>
<p>Note: To minimize dependencies and reduce unexpected behaviors, many
labelr functions <strong>will coerce augmented/non-standard data.frames
(e.g., tibbles, data.tables) to base R (“vanilla”) data.frames.</strong>
If you work with non-standard data.frames, the suggested workflow is to
affix and use labelr labels <strong>before</strong> transforming the
base R data.frame to a non-standard data.frame, if at all. While some
augmented data.frames and their functions may “play well” with
labelr-style labels and functions, this is not guaranteed. Experiment as
desired and at your own discretion.</p>
</div>
<div id="adding-and-looking-up-frame-name-and-value-labels" class="section level2">
<h2>Adding and Looking up Frame, Name, and Value Labels</h2>
<p>We’ll start our exploration of core labelr functions with a fake
“demographic” data.frame. First, though, let’s load the package
labelr.</p>
<div id="load-the-package" class="section level3">
<h3>Load the Package</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># install.packages(&quot;labelr&quot;) #CRAN version</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># install.packages(&quot;devtools&quot;) # Step 1 to get GitHub version</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co"># devtools::install_github(&quot;rhartmano/labelr&quot;) #Step 2 to get GitHub version</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(labelr)</span></code></pre></div>
</div>
<div id="make-toy-demographic-data.frame" class="section level3">
<h3>Make Toy Demographic Data.Frame</h3>
<p>We’ll use <code>make_demo_data()</code> (included with labelr) to
create the fictional data set.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">555</span>) <span class="co"># for reproducibility</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">make_demo_data</span>(<span class="at">n =</span> <span class="dv">1000</span>) <span class="co"># you can specify the number of fictional obs.</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co"># make a backup for later comparison</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>df_copy <span class="ot">&lt;-</span> df</span></code></pre></div>
</div>
<div id="add-a-variable-frame-label-using-add_frame_lab" class="section level3">
<h3>Add a Variable “FRAME label” Using <code>add_frame_lab()</code></h3>
<p>We’ll start our labeling session by providing a fittingly fictional
high-level description of this fictional data set. labelr calls this a
FRAME label.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_frame_lab</span>(df, <span class="at">frame.lab =</span> <span class="st">&quot;Demographic and reaction time test score</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="st">                    records collected by Royal Statistical Agency of</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="st">                    Fictionaslavica. Data fictionally collected in the year</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="st">                    1987. As published in A. Smithee (1988). Some Fictional Data</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="st">                    for Your Amusement. Mad Magazine, 10(1), 1-24.&quot;</span>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="fu">get_frame_lab</span>(df)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="do">### &gt;   data.frame</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="do">### &gt; 1         df</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="do">### &gt;                                                                                                                                                                                                                                                       frame.lab</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="do">### &gt; 1 Demographic and reaction time test score records collected by Royal Statistical Agency of Fictionaslavica. Data fictionally collected in the year 1987. As published in A. Smithee (1988). Some Fictional Data for Your Amusement. Mad Magazine, 10(1), 1-24.</span></span></code></pre></div>
</div>
<div id="add-variable-name-labels-using-add_name_labs" class="section level3">
<h3>Add Variable NAME Labels Using <code>add_name_labs()</code></h3>
<p>Now, let’s add (some fairly trivial) variable NAME labels</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_name_labs</span>(df, <span class="at">name.labs =</span> <span class="fu">c</span>(</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="st">&quot;age&quot;</span> <span class="ot">=</span> <span class="st">&quot;Age in years&quot;</span>,</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="st">&quot;raceth&quot;</span> <span class="ot">=</span> <span class="st">&quot;Racial/ethnic identity group category&quot;</span>,</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  <span class="st">&quot;gender&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gender identity category&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  <span class="st">&quot;edu&quot;</span> <span class="ot">=</span> <span class="st">&quot;Highest education level attained&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="st">&quot;x1&quot;</span> <span class="ot">=</span> <span class="st">&quot;Space Invaders reaction time test scores&quot;</span>,</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  <span class="st">&quot;x2&quot;</span> <span class="ot">=</span> <span class="st">&quot;Galaga reaction time test scores&quot;</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>))</span></code></pre></div>
<p>Even if we do nothing else with these name labels, we can access or
manipulate a simple lookup table as needed.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">get_name_labs</span>(df)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="do">### &gt;      var                                      lab</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="do">### &gt; 1     id                                       id</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="do">### &gt; 2    age                             Age in years</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="do">### &gt; 3 gender                 Gender identity category</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="do">### &gt; 4 raceth    Racial/ethnic identity group category</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="do">### &gt; 5    edu         Highest education level attained</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="do">### &gt; 6     x1 Space Invaders reaction time test scores</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="do">### &gt; 7     x2         Galaga reaction time test scores</span></span></code></pre></div>
</div>
<div id="add-value-labels-using-add_val_labs" class="section level3">
<h3>Add VALUE labels Using <code>add_val_labs()</code></h3>
<p>Now, let’s do some VALUE labeling. First, let’s use
<code>add_val_labs()</code> to add one-to-one value labels for the
variable “raceth”.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_val_labs</span>(df, <span class="co"># data.frame with to-be-value-labeled column</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;raceth&quot;</span>, <span class="co"># quoted variable name of to-be-labeled col</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>), <span class="co"># label values 1 through 7, inclusive</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>    <span class="st">&quot;White&quot;</span>, <span class="st">&quot;Black&quot;</span>, <span class="st">&quot;Hispanic&quot;</span>, <span class="co"># ordered labels for vals 1-7</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>    <span class="st">&quot;Asian&quot;</span>, <span class="st">&quot;AIAN&quot;</span>, <span class="st">&quot;Multi&quot;</span>, <span class="st">&quot;Other&quot;</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  ),</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  <span class="at">max.unique.vals =</span> <span class="dv">10</span> <span class="co"># max number of unique values permitted</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="add-value-labels-using-add_val1" class="section level3">
<h3>Add Value Labels Using <code>add_val1()</code></h3>
<p>Now let’s add value labels for the variable “gender.” Function
<code>add_val1</code> is a variant of <code>add_val_labs</code> that
allows you to supply the variable name unquoted, provided you are
value-labeling only one variable. (It’s not evident from the above, but
<code>add_val_labs</code> supports labeling multiple variables at
once).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_val1</span>(</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="at">data =</span> df,</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="at">var =</span> gender, <span class="co"># contrast this var argument to the vars argument demo&#39;d above</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>  <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="co"># the values to be labeled</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Other&quot;</span>), <span class="co"># the labels, applied in order to the vals</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>  <span class="at">max.unique.vals =</span> <span class="dv">10</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>)</span></code></pre></div>
<p>Once again, we can create a lookup table, this time for our
labels-to-values mappings. Because we used <code>add_val_labs()</code>
and <code>add_val</code>(), each unique value of our value-labeled
variables will (must) have one unique label (one-to-one mapping), and
any unique values that were not explicitly assigned a label were given
one automatically (the value itself, coerced to character as
needed).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">get_val_labs</span>(df)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="do">### &gt;       var vals     labs</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="do">### &gt; 1  gender    0     Male</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="do">### &gt; 2  gender    1   Female</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="do">### &gt; 3  gender    2    Other</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="do">### &gt; 4  gender   NA       NA</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="do">### &gt; 5  raceth    1    White</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="do">### &gt; 6  raceth    2    Black</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="do">### &gt; 7  raceth    3 Hispanic</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="do">### &gt; 8  raceth    4    Asian</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="do">### &gt; 9  raceth    5     AIAN</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="do">### &gt; 10 raceth    6    Multi</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="do">### &gt; 11 raceth    7    Other</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="do">### &gt; 12 raceth   NA       NA</span></span></code></pre></div>
</div>
<div id="add-numerical-range-labels-using-add_quant_labs" class="section level3">
<h3>Add NUMERICAL RANGE Labels Using <code>add_quant_labs()</code></h3>
<p>Traditionally, value labels are intended for categorical variables,
such as binary, nominal, or (integer) ordinal variables with limited
numbers of distinct categories. Further, as just noted, value labels
that are added using <code>add_val_labs</code> (or
<code>add_val1</code>) are constrained to map one-to-one to distinct
values: No two distinct values could share a value label or vice
versa.</p>
<p>If you wish to relax these constraints and apply a label to a range
of values of a numeric variable, such as labeling each value according
to the quintile or decile to which it belongs, you can use
<code>add_quant_labs()</code> (or <code>add_quant1</code>) to do so.</p>
<p>Here, we will use <code>add_quant_labs</code> with the partial
argument set to TRUE to apply quintile range labels to <strong>all
variables</strong> of df that have an “x” in their names (i.e., vars
“x1” and “x2”). We’ll demonstrate this capability further at the end of
this vignette.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>df_temp <span class="ot">&lt;-</span> <span class="fu">add_quant_labs</span>(</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="at">data =</span> df,</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="at">qtiles =</span> <span class="dv">5</span>,</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="at">partial =</span> <span class="cn">TRUE</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>)</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="fu">get_val_labs</span>(df_temp)</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="do">### &gt;       var    vals     labs</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="do">### &gt; 1  gender       0     Male</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="do">### &gt; 2  gender       1   Female</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="do">### &gt; 3  gender       2    Other</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="do">### &gt; 4  gender      NA       NA</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="do">### &gt; 5  raceth       1    White</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="do">### &gt; 6  raceth       2    Black</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="do">### &gt; 7  raceth       3 Hispanic</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="do">### &gt; 8  raceth       4    Asian</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="do">### &gt; 9  raceth       5     AIAN</span></span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="do">### &gt; 10 raceth       6    Multi</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="do">### &gt; 11 raceth       7    Other</span></span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="do">### &gt; 12 raceth      NA       NA</span></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="do">### &gt; 13     x1  82.976     q020</span></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="do">### &gt; 14     x1  95.238     q040</span></span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a><span class="do">### &gt; 15     x1 106.142     q060</span></span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="do">### &gt; 16     x1 117.524     q080</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="do">### &gt; 17     x1  157.98     q100</span></span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a><span class="do">### &gt; 18     x1      NA       NA</span></span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a><span class="do">### &gt; 19     x2 0.22404     q020</span></span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a><span class="do">### &gt; 20     x2 0.41608     q040</span></span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a><span class="do">### &gt; 21     x2 0.62034     q060</span></span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a><span class="do">### &gt; 22     x2 0.80538     q080</span></span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a><span class="do">### &gt; 23     x2  0.9992     q100</span></span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a><span class="do">### &gt; 24     x2      NA       NA</span></span></code></pre></div>
<p>Note: If you wish to apply quantile-based value labels to all numeric
variables at once, you may wish to explore
<code>all_quant_labs()</code>.</p>
<p><strong>Be careful</strong> with setting partial to TRUE like this:
If your data set featured a column called “sex” or that featured the
string “tax” or the suffix “max” in its name,
<code>add_quant_labs()</code> would attempt to apply the value labeling
scheme to that column as well!</p>
<p>We can use the same function to assign arbitrary, user-specified
range labels. Here, we assign numerical range labels based on an
arbitrary cutpoint that differentiate values of “x1” and “x2” that are
at or below 100 from values that are at or below 150 (but greater than
100).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>df_temp <span class="ot">&lt;-</span> <span class="fu">add_quant_labs</span>(</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="at">data =</span> df_temp,</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">150</span>),</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="at">partial =</span> <span class="cn">TRUE</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>)</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="do">### &gt; Warning in add_quant_labs(data = df_temp, vars = &quot;x&quot;, vals = c(100, 150), : </span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="do">### &gt; Some of the supplied vals argument values are outside</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="do">### &gt; the observed range of var --x2-- values</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="fu">get_val_labs</span>(df_temp)</span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="do">### &gt;       var vals     labs</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="do">### &gt; 1  gender    0     Male</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="do">### &gt; 2  gender    1   Female</span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="do">### &gt; 3  gender    2    Other</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a><span class="do">### &gt; 4  gender   NA       NA</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a><span class="do">### &gt; 5  raceth    1    White</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a><span class="do">### &gt; 6  raceth    2    Black</span></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="do">### &gt; 7  raceth    3 Hispanic</span></span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a><span class="do">### &gt; 8  raceth    4    Asian</span></span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a><span class="do">### &gt; 9  raceth    5     AIAN</span></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a><span class="do">### &gt; 10 raceth    6    Multi</span></span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a><span class="do">### &gt; 11 raceth    7    Other</span></span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a><span class="do">### &gt; 12 raceth   NA       NA</span></span>
<span id="cb10-26"><a href="#cb10-26" tabindex="-1"></a><span class="do">### &gt; 13     x1  100    &lt;=100</span></span>
<span id="cb10-27"><a href="#cb10-27" tabindex="-1"></a><span class="do">### &gt; 14     x1  150    &lt;=150</span></span>
<span id="cb10-28"><a href="#cb10-28" tabindex="-1"></a><span class="do">### &gt; 15     x1   NA       NA</span></span>
<span id="cb10-29"><a href="#cb10-29" tabindex="-1"></a><span class="do">### &gt; 16     x2  100    &lt;=100</span></span>
<span id="cb10-30"><a href="#cb10-30" tabindex="-1"></a><span class="do">### &gt; 17     x2  150    &lt;=150</span></span>
<span id="cb10-31"><a href="#cb10-31" tabindex="-1"></a><span class="do">### &gt; 18     x2   NA       NA</span></span></code></pre></div>
<p>Having demonstrated the basic functionality on our df_temp copy of
df, let’s ignore that data.frame and return our focus to df. We’ll use
<code>add_quant1</code> to apply decile range labeling to the variable
“x1” only. Note that <code>add_quant1</code> is like
<code>add_quant_labs</code>, but accepts only a single variable, whose
name can be supplied without quotes. The opposite trade-off holds for
<code>add_quant_labs</code>: The relationship between these two
functions mirrors the relationship between <code>add_val_labs</code> and
<code>add_val1</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_quant1</span>(df, <span class="co"># data.frame</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  x1, <span class="co"># variable to value-label</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="at">qtiles =</span> <span class="dv">5</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>) <span class="co"># number quintiles to define numerical range labels</span></span></code></pre></div>
<p>We’ll preserve the “x1” range labels going forward, keeping “x2”
unlabeled.</p>
</div>
<div id="add-many-to-one-value-labels-using-add_m1_lab" class="section level3">
<h3>Add MANY-TO-ONE VALUE Labels Using <code>add_m1_lab()</code></h3>
<p>If you wish to apply a single label to multiple distinct values that
are not necessarily part of a numerical range, this can be done through
successive calls to <code>add_m1_lab()</code> Here, the “m1” is
shorthand for “many to one,” as in “many values get the same one value
label.”</p>
<p>Note that each call to <code>add_m1_lab()</code> applies a single
value label, so,<br />
multiple calls are needed to apply multiple labels. Here, we illustrate
this workflow, applying the label “Some College+” to values 3, 4, or 5
of the variable “edu”, then applying other distinct labels to values 1
and 2, respectively.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_m1_lab</span>(df, <span class="st">&quot;edu&quot;</span>, <span class="at">vals =</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">lab =</span> <span class="st">&quot;Some College+&quot;</span>)</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_m1_lab</span>(df, <span class="st">&quot;edu&quot;</span>, <span class="at">vals =</span> <span class="dv">1</span>, <span class="at">lab =</span> <span class="st">&quot;Not HS Grad&quot;</span>)</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_m1_lab</span>(df, <span class="st">&quot;edu&quot;</span>, <span class="at">vals =</span> <span class="dv">2</span>, <span class="at">lab =</span> <span class="st">&quot;HSG, No College&quot;</span>)</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a><span class="fu">get_val_labs</span>(df)</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="do">### &gt;       var    vals            labs</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="do">### &gt; 1  gender       0            Male</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="do">### &gt; 2  gender       1          Female</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="do">### &gt; 3  gender       2           Other</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="do">### &gt; 4  gender      NA              NA</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="do">### &gt; 5  raceth       1           White</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="do">### &gt; 6  raceth       2           Black</span></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="do">### &gt; 7  raceth       3        Hispanic</span></span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="do">### &gt; 8  raceth       4           Asian</span></span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="do">### &gt; 9  raceth       5            AIAN</span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a><span class="do">### &gt; 10 raceth       6           Multi</span></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="do">### &gt; 11 raceth       7           Other</span></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a><span class="do">### &gt; 12 raceth      NA              NA</span></span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a><span class="do">### &gt; 13    edu       1     Not HS Grad</span></span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a><span class="do">### &gt; 14    edu       2 HSG, No College</span></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a><span class="do">### &gt; 15    edu       3   Some College+</span></span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a><span class="do">### &gt; 16    edu       4   Some College+</span></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a><span class="do">### &gt; 17    edu       5   Some College+</span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a><span class="do">### &gt; 18    edu      NA              NA</span></span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a><span class="do">### &gt; 19     x1  82.976            q020</span></span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a><span class="do">### &gt; 20     x1  95.238            q040</span></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a><span class="do">### &gt; 21     x1 106.142            q060</span></span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a><span class="do">### &gt; 22     x1 117.524            q080</span></span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a><span class="do">### &gt; 23     x1  157.98            q100</span></span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a><span class="do">### &gt; 24     x1      NA              NA</span></span></code></pre></div>
<p>As with the other value-adding functions, there is a variant of
<code>add_m1_lab</code> that allows you to value-label a single variable
whose name is unquoted. It is <code>add1m1()</code>.</p>
</div>
<div id="where-do-we-stand" class="section level3">
<h3>Where Do We Stand?</h3>
<p>All of this is nice, but have we really accomplished anything? A
casual view of the data.frame raises some doubts:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">head</span>(df_copy, <span class="dv">3</span>) <span class="co"># our pre-labeling copy of the data.frame</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth edu     x1     x2</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="do">### &gt; T-1  1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="do">### &gt; N-2  2  56      1      1   2  67.12 0.9116</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="do">### &gt; D-3  3  54      1      6   3  79.28 0.6993</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="fu">head</span>(df, <span class="dv">3</span>) <span class="co"># our latest, post-labeling version of same data.frame</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth edu     x1     x2</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="do">### &gt; T-1  1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="do">### &gt; N-2  2  56      1      1   2  67.12 0.9116</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="do">### &gt; D-3  3  54      1      6   3  79.28 0.6993</span></span></code></pre></div>
<p>These two data.frames still look identical.</p>
<p>Rest assured, labeling has introduced some unobtrusive but important
features for us to use. We’ll put them to work in a moment. But first
let’s back them up in case we lose them.</p>
</div>
</div>
<div id="preserving-and-restoring-labels" class="section level2">
<h2>Preserving and Restoring Labels</h2>
<p>Lose them, you say? labelr labels are data.frame attributes, and
certain Base R functions (like some forms of subsetting) are known to
destroy data.frame attributes. For this reason, once you’re done
labeling your data.frame, it’s wise to create an in-session backup of
your labels by assigning them to an extra, stand-alone object. You can
do this with <code>get_all_lab_atts()</code>, which will return all
labels (frame, name, and value) as a list object that you can
subsequently (re-) attach to a data.frame, as needed.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>labs.df <span class="ot">&lt;-</span> <span class="fu">get_all_lab_atts</span>(df)</span></code></pre></div>
<p>Now, let’s remove our labels explicitly, simulating what certain R
functions do naturally.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">strip_labs</span>(df) <span class="co"># remove our labels</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="fu">get_all_lab_atts</span>(df) <span class="co"># show that they&#39;re gone</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="do">### &gt; named list()</span></span></code></pre></div>
<p>Now, let’s restore them, using the labs.df list object we just
created.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">add_lab_atts</span>(df, labs.df)</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="fu">get_all_lab_atts</span>(df)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="do">### &gt; $frame.lab</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="do">### &gt; [1] &quot;Demographic and reaction time test score records collected by Royal Statistical Agency of Fictionaslavica. Data fictionally collected in the year 1987. As published in A. Smithee (1988). Some Fictional Data for Your Amusement. Mad Magazine, 10(1), 1-24.&quot;</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="do">### &gt; $name.labs</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="do">### &gt;                                         id </span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="do">### &gt;                                       &quot;id&quot; </span></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a><span class="do">### &gt;                                        age </span></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="do">### &gt;                             &quot;Age in years&quot; </span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="do">### &gt;                                     gender </span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a><span class="do">### &gt;                 &quot;Gender identity category&quot; </span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a><span class="do">### &gt;                                     raceth </span></span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a><span class="do">### &gt;    &quot;Racial/ethnic identity group category&quot; </span></span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a><span class="do">### &gt;                                        edu </span></span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a><span class="do">### &gt;         &quot;Highest education level attained&quot; </span></span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a><span class="do">### &gt;                                         x1 </span></span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a><span class="do">### &gt; &quot;Space Invaders reaction time test scores&quot; </span></span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a><span class="do">### &gt;                                         x2 </span></span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a><span class="do">### &gt;         &quot;Galaga reaction time test scores&quot; </span></span>
<span id="cb16-22"><a href="#cb16-22" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb16-23"><a href="#cb16-23" tabindex="-1"></a><span class="do">### &gt; $val.labs.gender</span></span>
<span id="cb16-24"><a href="#cb16-24" tabindex="-1"></a><span class="do">### &gt;        0        1        2       NA </span></span>
<span id="cb16-25"><a href="#cb16-25" tabindex="-1"></a><span class="do">### &gt;   &quot;Male&quot; &quot;Female&quot;  &quot;Other&quot;     &quot;NA&quot; </span></span>
<span id="cb16-26"><a href="#cb16-26" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb16-27"><a href="#cb16-27" tabindex="-1"></a><span class="do">### &gt; $val.labs.raceth</span></span>
<span id="cb16-28"><a href="#cb16-28" tabindex="-1"></a><span class="do">### &gt;          1          2          3          4          5          6          7 </span></span>
<span id="cb16-29"><a href="#cb16-29" tabindex="-1"></a><span class="do">### &gt;    &quot;White&quot;    &quot;Black&quot; &quot;Hispanic&quot;    &quot;Asian&quot;     &quot;AIAN&quot;    &quot;Multi&quot;    &quot;Other&quot; </span></span>
<span id="cb16-30"><a href="#cb16-30" tabindex="-1"></a><span class="do">### &gt;         NA </span></span>
<span id="cb16-31"><a href="#cb16-31" tabindex="-1"></a><span class="do">### &gt;       &quot;NA&quot; </span></span>
<span id="cb16-32"><a href="#cb16-32" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb16-33"><a href="#cb16-33" tabindex="-1"></a><span class="do">### &gt; $val.labs.edu</span></span>
<span id="cb16-34"><a href="#cb16-34" tabindex="-1"></a><span class="do">### &gt;                 1                 2                 3                 4 </span></span>
<span id="cb16-35"><a href="#cb16-35" tabindex="-1"></a><span class="do">### &gt;     &quot;Not HS Grad&quot; &quot;HSG, No College&quot;   &quot;Some College+&quot;   &quot;Some College+&quot; </span></span>
<span id="cb16-36"><a href="#cb16-36" tabindex="-1"></a><span class="do">### &gt;                 5                NA </span></span>
<span id="cb16-37"><a href="#cb16-37" tabindex="-1"></a><span class="do">### &gt;   &quot;Some College+&quot;              &quot;NA&quot; </span></span>
<span id="cb16-38"><a href="#cb16-38" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb16-39"><a href="#cb16-39" tabindex="-1"></a><span class="do">### &gt; $val.labs.x1</span></span>
<span id="cb16-40"><a href="#cb16-40" tabindex="-1"></a><span class="do">### &gt;  82.976  95.238 106.142 117.524  157.98      NA </span></span>
<span id="cb16-41"><a href="#cb16-41" tabindex="-1"></a><span class="do">### &gt;  &quot;q020&quot;  &quot;q040&quot;  &quot;q060&quot;  &quot;q080&quot;  &quot;q100&quot;    &quot;NA&quot;</span></span></code></pre></div>
<p>We’re back(ed up)!</p>
<p>In addition to this hack, labelr provides label-preserving variants
of common data management functions, including <code>sfilter()</code>,
<code>sselect()</code>, <code>ssubset()</code>, <code>srename()</code>,
<code>ssort()</code>, and others. Here, the “s” prefix is for “safely,”
as in, “your labels will be safely retained”). Other popular packages
(e.g., “dplyr”) may also preserve label attributes, but an advantage of
the labelr functions like <code>sselect()</code> is that they will
update the label attributes of affected columns. For example, if your
use of <code>sselect()</code> or <code>sdrop</code> removes a column
from the returned data.frame, any labels associated with that column
will be removed from that data.frame’s attributes, as well.</p>
</div>
<div id="using-value-labels" class="section level2">
<h2>“Using” Value Labels</h2>
<p>Now that our data.frame is labeled (and our labels backed up), let’s
demonstrate some ways that we can use them.</p>
<div id="show-first-last-or-random-rows-with-value-labels-overlaid" class="section level3">
<h3>Show First, Last, or Random Rows with Value Labels Overlaid</h3>
<p>Base R includes the <code>head()</code> and <code>tail()</code>
functions, which allow you to show the first n or last n rows of a
data.frame. In addition, the “car” package offers a similar function
called <code>some()</code>, which allows you to show a random n rows of
a data.frame.</p>
<p>labelr provides versions of these functions that will display value
labels in place of values, without actually altering the values in the
underlying data.frame. Let’s demonstrate each of the three standard
functions, followed by its labelr counterpart. Note that the
unconventional rownames (e.g., “T-1,” “N-2”) are provided as an aid to
help you visually locate a literal row that may appear across calls.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">head</span>(df, <span class="dv">5</span>) <span class="co"># Base R function utils::head()</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth edu     x1     x2</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="do">### &gt; T-1  1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="do">### &gt; N-2  2  56      1      1   2  67.12 0.9116</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="do">### &gt; D-3  3  54      1      6   3  79.28 0.6993</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46      1      5   4  99.59 0.2243</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="do">### &gt; E-5  5  18      1      6   4  90.49 0.0099</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="fu">headl</span>(df, <span class="dv">5</span>) <span class="co"># labelr function headl() (note the &quot;l&quot;)</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth             edu   x1     x2</span></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="do">### &gt; T-1  1  59 Female  Asian   Some College+ q100 0.5928</span></span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="do">### &gt; N-2  2  56 Female  White HSG, No College q020 0.9116</span></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="do">### &gt; D-3  3  54 Female  Multi   Some College+ q020 0.6993</span></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46 Female   AIAN   Some College+ q060 0.2243</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="do">### &gt; E-5  5  18 Female  Multi   Some College+ q040 0.0099</span></span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a><span class="fu">tail</span>(df, <span class="dv">5</span>) <span class="co"># Base R function utils::tail()</span></span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a><span class="do">### &gt;          id age gender raceth edu     x1     x2</span></span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a><span class="do">### &gt; Z-996   996  63      0      1   4  92.36 0.0447</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a><span class="do">### &gt; S-997   997  18      0      4   4 147.40 0.2252</span></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a><span class="do">### &gt; K-998   998  45      0      5   2 106.87 0.1610</span></span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a><span class="do">### &gt; I-999   999  46      1      4   2 119.13 0.7666</span></span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a><span class="do">### &gt; H-1000 1000  68      0      6   5  70.38 0.5123</span></span>
<span id="cb17-24"><a href="#cb17-24" tabindex="-1"></a></span>
<span id="cb17-25"><a href="#cb17-25" tabindex="-1"></a><span class="fu">taill</span>(df, <span class="dv">5</span>) <span class="co"># labelr function taill() (note the extra &quot;l&quot;)</span></span>
<span id="cb17-26"><a href="#cb17-26" tabindex="-1"></a><span class="do">### &gt;          id age gender raceth             edu   x1     x2</span></span>
<span id="cb17-27"><a href="#cb17-27" tabindex="-1"></a><span class="do">### &gt; Z-996   996  63   Male  White   Some College+ q040 0.0447</span></span>
<span id="cb17-28"><a href="#cb17-28" tabindex="-1"></a><span class="do">### &gt; S-997   997  18   Male  Asian   Some College+ q100 0.2252</span></span>
<span id="cb17-29"><a href="#cb17-29" tabindex="-1"></a><span class="do">### &gt; K-998   998  45   Male   AIAN HSG, No College q080 0.1610</span></span>
<span id="cb17-30"><a href="#cb17-30" tabindex="-1"></a><span class="do">### &gt; I-999   999  46 Female  Asian HSG, No College q100 0.7666</span></span>
<span id="cb17-31"><a href="#cb17-31" tabindex="-1"></a><span class="do">### &gt; H-1000 1000  68   Male  Multi   Some College+ q020 0.5123</span></span>
<span id="cb17-32"><a href="#cb17-32" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">293</span>)</span>
<span id="cb17-34"><a href="#cb17-34" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">some</span>(df, <span class="dv">5</span>) <span class="co"># car package function car::some()</span></span>
<span id="cb17-35"><a href="#cb17-35" tabindex="-1"></a><span class="do">### &gt;        id age gender raceth edu     x1     x2</span></span>
<span id="cb17-36"><a href="#cb17-36" tabindex="-1"></a><span class="do">### &gt; F-181 181  44      1      5   2  87.46 0.0965</span></span>
<span id="cb17-37"><a href="#cb17-37" tabindex="-1"></a><span class="do">### &gt; K-248 248  30      1      2   3 129.62 0.4484</span></span>
<span id="cb17-38"><a href="#cb17-38" tabindex="-1"></a><span class="do">### &gt; N-341 341  19      1      5   2  45.21 0.6074</span></span>
<span id="cb17-39"><a href="#cb17-39" tabindex="-1"></a><span class="do">### &gt; F-457 457  58      1      5   4 124.84 0.9890</span></span>
<span id="cb17-40"><a href="#cb17-40" tabindex="-1"></a><span class="do">### &gt; P-458 458  30      1      7   3  96.22 0.5607</span></span>
<span id="cb17-41"><a href="#cb17-41" tabindex="-1"></a></span>
<span id="cb17-42"><a href="#cb17-42" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">293</span>)</span>
<span id="cb17-43"><a href="#cb17-43" tabindex="-1"></a><span class="fu">somel</span>(df, <span class="dv">5</span>) <span class="co"># labelr function somel() (note the &quot;l&quot;)</span></span>
<span id="cb17-44"><a href="#cb17-44" tabindex="-1"></a><span class="do">### &gt;        id age gender raceth             edu   x1     x2</span></span>
<span id="cb17-45"><a href="#cb17-45" tabindex="-1"></a><span class="do">### &gt; F-181 181  44 Female   AIAN HSG, No College q040 0.0965</span></span>
<span id="cb17-46"><a href="#cb17-46" tabindex="-1"></a><span class="do">### &gt; N-341 341  19 Female   AIAN HSG, No College q020 0.6074</span></span>
<span id="cb17-47"><a href="#cb17-47" tabindex="-1"></a><span class="do">### &gt; P-458 458  30 Female  Other   Some College+ q060 0.5607</span></span>
<span id="cb17-48"><a href="#cb17-48" tabindex="-1"></a><span class="do">### &gt; F-457 457  58 Female   AIAN   Some College+ q100 0.9890</span></span>
<span id="cb17-49"><a href="#cb17-49" tabindex="-1"></a><span class="do">### &gt; K-248 248  30 Female  Black   Some College+ q100 0.4484</span></span></code></pre></div>
<p>Note that <code>some()</code> and <code>somel()</code> both return
random rows, but they will not necessarily return the same random rows,
even with the same random number seed.</p>
</div>
<div id="swap-out-values-for-labels-with-use_val_labs-and-uvl" class="section level3">
<h3>Swap out Values for Labels with <code>use_val_labs()</code> and
<code>uvl()</code></h3>
<p>We can generalize this overlaying (aka “turning on” aka “swapping
in”) of value labels to the entire data.frame. For example, we might do
this temporarily, to visualize the labels in place of values.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">use_val_labs</span>(df)[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, ] <span class="co"># headl() is just a more compact shortcut for this</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="do">### &gt;      id age gender   raceth             edu   x1     x2</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="do">### &gt; T-1   1  59 Female    Asian   Some College+ q100 0.5928</span></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="do">### &gt; N-2   2  56 Female    White HSG, No College q020 0.9116</span></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="do">### &gt; D-3   3  54 Female    Multi   Some College+ q020 0.6993</span></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="do">### &gt; Q-4   4  46 Female     AIAN   Some College+ q060 0.2243</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="do">### &gt; E-5   5  18 Female    Multi   Some College+ q040 0.0099</span></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a><span class="do">### &gt; K-6   6  45   Male    Black   Some College+ q020 0.9250</span></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a><span class="do">### &gt; Y-7   7  57   Male    White HSG, No College q060 0.9446</span></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a><span class="do">### &gt; C-8   8  46   Male Hispanic HSG, No College q080 0.4053</span></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a><span class="do">### &gt; W-9   9  37 Female    Black   Some College+ q020 0.3998</span></span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a><span class="do">### &gt; A-10 10  12 Female    Other HSG, No College q060 0.5857</span></span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a><span class="do">### &gt; A-11 11  46   Male    Other   Some College+ q020 0.7027</span></span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a><span class="do">### &gt; S-12 12  28   Male Hispanic   Some College+ q020 0.6538</span></span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a><span class="do">### &gt; Z-13 13  15 Female     AIAN   Some College+ q080 0.6267</span></span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a><span class="do">### &gt; H-14 14  39 Female     AIAN   Some College+ q020 0.8989</span></span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a><span class="do">### &gt; A-15 15  18 Female    White   Some College+ q100 0.2974</span></span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a><span class="do">### &gt; B-16 16  48   Male    Multi   Some College+ q080 0.2212</span></span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a><span class="do">### &gt; H-17 17  39   Male     AIAN   Some College+ q060 0.3127</span></span>
<span id="cb18-20"><a href="#cb18-20" tabindex="-1"></a><span class="do">### &gt; F-18 18  52   Male Hispanic   Some College+ q060 0.4350</span></span>
<span id="cb18-21"><a href="#cb18-21" tabindex="-1"></a><span class="do">### &gt; F-19 19  33   Male    Other   Some College+ q100 0.2809</span></span>
<span id="cb18-22"><a href="#cb18-22" tabindex="-1"></a><span class="do">### &gt; A-20 20  29   Male    White   Some College+ q060 0.8188</span></span></code></pre></div>
<p>Or we can wrap a call to this function around our data.frame and pass
the result to other functions. Here is an illustration that passes a
<code>use_val_labs()</code> -wrapped data.frame to the
<code>qsu()</code>function of the collapse package. To save typing,
we’ll use <code>uvl()</code>, a more compact alias for
<code>use_val_labs()</code>.</p>
<p>First we show the unwrapped call to <code>collapse::qsu()</code>,
followed by an otherwise identical call that wraps the data.frame in
<code>uvl()</code>. Focus your eyes on the leftmost column of the
console outputs of the respective calls (i.e., the rownames of the
object generated by <code>qsu::collapse()</code>).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># `collapse::qsu()`</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="co"># with labels &quot;off&quot; (i.e., using regular values of &quot;raceth&quot; as by var)</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>(by_demog_val <span class="ot">&lt;-</span> collapse<span class="sc">::</span><span class="fu">qsu</span>(df, <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&quot;x2&quot;</span>), <span class="at">by =</span> <span class="sc">~</span>raceth))</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="do">### &gt;      N    Mean      SD     Min     Max</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="do">### &gt; 1  156  0.5067  0.2696  0.0018  0.9966</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="do">### &gt; 2  147  0.4922  0.2755  0.0041  0.9951</span></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="do">### &gt; 3  144  0.4951   0.299  0.0172  0.9992</span></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="do">### &gt; 4  127  0.5461  0.2873   0.006  0.9885</span></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a><span class="do">### &gt; 5  155  0.5476  0.2995  0.0076   0.994</span></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a><span class="do">### &gt; 6  140  0.5163  0.2798  0.0099  0.9915</span></span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a><span class="do">### &gt; 7  131  0.5132  0.2786  0.0014  0.9918</span></span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a><span class="co"># with labels &quot;on&quot; (i.e., using labels, thanks to `uvl()`)</span></span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a>(by_demog_lab <span class="ot">&lt;-</span> collapse<span class="sc">::</span><span class="fu">qsu</span>(<span class="fu">uvl</span>(df), <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&quot;x2&quot;</span>), <span class="at">by =</span> <span class="sc">~</span>raceth))</span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a><span class="do">### &gt;             N    Mean      SD     Min     Max</span></span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a><span class="do">### &gt; AIAN      155  0.5476  0.2995  0.0076   0.994</span></span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a><span class="do">### &gt; Asian     127  0.5461  0.2873   0.006  0.9885</span></span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a><span class="do">### &gt; Black     147  0.4922  0.2755  0.0041  0.9951</span></span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a><span class="do">### &gt; Hispanic  144  0.4951   0.299  0.0172  0.9992</span></span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a><span class="do">### &gt; Multi     140  0.5163  0.2798  0.0099  0.9915</span></span>
<span id="cb19-21"><a href="#cb19-21" tabindex="-1"></a><span class="do">### &gt; Other     131  0.5132  0.2786  0.0014  0.9918</span></span>
<span id="cb19-22"><a href="#cb19-22" tabindex="-1"></a><span class="do">### &gt; White     156  0.5067  0.2696  0.0018  0.9966</span></span></code></pre></div>
<p>This second call would achieve the same result if we used
<code>use_val_labs()</code>, but <code>uvl()</code> is more compact for
typing and printing purposes.</p>
</div>
<div id="non-standard-evaluation-using-with_val_labs-and-wvn" class="section level3">
<h3>Non-standard Evaluation using <code>with_val_labs()</code> and
<code>wvn</code></h3>
<p>labelr also offers an option to overlay (“swap out”) value labels
using <code>base::with()</code>-like non-standard evaluation. This is
helpful in a few specific cases.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">with</span>(df, <span class="fu">table</span>(gender, raceth)) <span class="co"># base::with()</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="do">### &gt;       raceth</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="do">### &gt; gender  1  2  3  4  5  6  7</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="do">### &gt;      0 83 66 62 65 64 68 61</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="do">### &gt;      1 70 74 79 56 83 69 64</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="do">### &gt;      2  3  7  3  6  8  3  6</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="fu">with_val_labs</span>(df, <span class="fu">table</span>(gender, raceth)) <span class="co"># labelr::with_val_labs()</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="do">### &gt;         raceth</span></span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a><span class="do">### &gt; gender   AIAN Asian Black Hispanic Multi Other White</span></span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a><span class="do">### &gt;   Female   83    56    74       79    69    64    70</span></span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a><span class="do">### &gt;   Male     64    65    66       62    68    61    83</span></span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a><span class="do">### &gt;   Other     8     6     7        3     3     6     3</span></span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" tabindex="-1"></a><span class="fu">wvl</span>(df, <span class="fu">table</span>(gender, raceth)) <span class="co"># labelr::wvl is a more compact alias</span></span>
<span id="cb20-16"><a href="#cb20-16" tabindex="-1"></a><span class="do">### &gt;         raceth</span></span>
<span id="cb20-17"><a href="#cb20-17" tabindex="-1"></a><span class="do">### &gt; gender   AIAN Asian Black Hispanic Multi Other White</span></span>
<span id="cb20-18"><a href="#cb20-18" tabindex="-1"></a><span class="do">### &gt;   Female   83    56    74       79    69    64    70</span></span>
<span id="cb20-19"><a href="#cb20-19" tabindex="-1"></a><span class="do">### &gt;   Male     64    65    66       62    68    61    83</span></span>
<span id="cb20-20"><a href="#cb20-20" tabindex="-1"></a><span class="do">### &gt;   Other     8     6     7        3     3     6     3</span></span></code></pre></div>
<p>In a little bit, we’ll see that we have some parallel options for
overlaying (“turning on”) NAME labels.</p>
</div>
<div id="add-value-labels-back-to-the-data.frame-with-add_lab_cols" class="section level3">
<h3>Add value labels back to the data.frame with
<code>add_lab_cols()</code></h3>
<p>If all this wrapping and interactive toggling back and forth is
making you dizzy, we could do something more permanent.</p>
<p>For example, we can assign the result of a
<code>use_val_labs()</code> call to an object. The result will be a
data.frame with the same names and dimensions as the one supplied, with
value labels replacing values for all value-labeled variables (or for a
subset of those variables, if you specify them). Those variables will be
coerced to character (if they were not already). Since there is no
“undo” shortcut for this action, it is safest to assign the result to a
new object.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>df_labd <span class="ot">&lt;-</span> <span class="fu">use_val_labs</span>(df)</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="fu">head</span>(df_labd) <span class="co"># note, this is utils::head(), not labelr::headl()</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth             edu   x1     x2</span></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="do">### &gt; T-1  1  59 Female  Asian   Some College+ q100 0.5928</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="do">### &gt; N-2  2  56 Female  White HSG, No College q020 0.9116</span></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="do">### &gt; D-3  3  54 Female  Multi   Some College+ q020 0.6993</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46 Female   AIAN   Some College+ q060 0.2243</span></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a><span class="do">### &gt; E-5  5  18 Female  Multi   Some College+ q040 0.0099</span></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a><span class="do">### &gt; K-6  6  45   Male  Black   Some College+ q020 0.9250</span></span></code></pre></div>
<p>Better still, we do not need to choose between values and labels. We
can use <code>add_lab_cols()</code> to preserve all existing variables
(columns), including the value-labeled ones, while adding to our
data.frame an additional labels-as-values column for each value-labeled
column.</p>
<p>Easier done than said, perhaps. Take a look:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>df_plus_labs <span class="ot">&lt;-</span> <span class="fu">add_lab_cols</span>(df)</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="fu">head</span>(df_plus_labs[<span class="fu">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;gender_lab&quot;</span>, <span class="st">&quot;raceth&quot;</span>, <span class="st">&quot;raceth_lab&quot;</span>)])</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="do">### &gt;     gender gender_lab raceth raceth_lab</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="do">### &gt; T-1      1     Female      4      Asian</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="do">### &gt; N-2      1     Female      1      White</span></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="do">### &gt; D-3      1     Female      6      Multi</span></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="do">### &gt; Q-4      1     Female      5       AIAN</span></span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a><span class="do">### &gt; E-5      1     Female      6      Multi</span></span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="do">### &gt; K-6      0       Male      2      Black</span></span></code></pre></div>
</div>
<div id="filter-values-using-labels-with-flab" class="section level3">
<h3>“Filter values using labels” with <code>flab()</code></h3>
<p>We also can filter a value-labeled data.frame using value labels,
returning a subsetted data.frame in terms of the original values. In
other words, we can use the more semantically meaningful value labels to
guide our subsetting, even as they remain “invisible” and “in the
background” as far as conventional R data views, descriptives, and
analyses are concerned. Again, I find this “easier done than said.”</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="fu">head</span>(df)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="do">### &gt;     id age gender raceth edu     x1     x2</span></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="do">### &gt; T-1  1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="do">### &gt; N-2  2  56      1      1   2  67.12 0.9116</span></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="do">### &gt; D-3  3  54      1      6   3  79.28 0.6993</span></span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="do">### &gt; Q-4  4  46      1      5   4  99.59 0.2243</span></span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a><span class="do">### &gt; E-5  5  18      1      6   4  90.49 0.0099</span></span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a><span class="do">### &gt; K-6  6  45      0      2   4  78.55 0.9250</span></span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">flab</span>(df, raceth <span class="sc">==</span> <span class="st">&quot;Asian&quot;</span> <span class="sc">&amp;</span> gender <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>)</span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a><span class="fu">head</span>(df1, <span class="dv">5</span>) <span class="co"># returned df1 is in terms of values, just like df</span></span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a><span class="do">### &gt;      id age gender raceth edu     x1     x2</span></span>
<span id="cb23-14"><a href="#cb23-14" tabindex="-1"></a><span class="do">### &gt; T-1   1  59      1      4   5 120.25 0.5928</span></span>
<span id="cb23-15"><a href="#cb23-15" tabindex="-1"></a><span class="do">### &gt; D-40 40  60      1      4   4  78.12 0.9885</span></span>
<span id="cb23-16"><a href="#cb23-16" tabindex="-1"></a><span class="do">### &gt; E-67 67  39      1      4   5  98.21 0.6244</span></span>
<span id="cb23-17"><a href="#cb23-17" tabindex="-1"></a><span class="do">### &gt; I-73 73  36      1      4   2  98.42 0.2102</span></span>
<span id="cb23-18"><a href="#cb23-18" tabindex="-1"></a><span class="do">### &gt; V-80 80  27      1      4   4 122.62 0.3137</span></span>
<span id="cb23-19"><a href="#cb23-19" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" tabindex="-1"></a><span class="fu">headl</span>(df1, <span class="dv">5</span>) <span class="co"># note use of labelr::headl; labels are there</span></span>
<span id="cb23-21"><a href="#cb23-21" tabindex="-1"></a><span class="do">### &gt;      id age gender raceth             edu   x1     x2</span></span>
<span id="cb23-22"><a href="#cb23-22" tabindex="-1"></a><span class="do">### &gt; T-1   1  59 Female  Asian   Some College+ q100 0.5928</span></span>
<span id="cb23-23"><a href="#cb23-23" tabindex="-1"></a><span class="do">### &gt; D-40 40  60 Female  Asian   Some College+ q020 0.9885</span></span>
<span id="cb23-24"><a href="#cb23-24" tabindex="-1"></a><span class="do">### &gt; E-67 67  39 Female  Asian   Some College+ q060 0.6244</span></span>
<span id="cb23-25"><a href="#cb23-25" tabindex="-1"></a><span class="do">### &gt; I-73 73  36 Female  Asian HSG, No College q060 0.2102</span></span>
<span id="cb23-26"><a href="#cb23-26" tabindex="-1"></a><span class="do">### &gt; V-80 80  27 Female  Asian   Some College+ q100 0.3137</span></span></code></pre></div>
<p>We’ve used these two variables’ value labels to guide our filtering,
without ever explicitly changing the contents of our columns from values
to labels. For instance, note that we did NOT make an explicit call to
<code>use_val_labs()</code> or <code>add_lab_cols()</code> before our
call to <code>flab()</code>. So long as we are providing actually
existing value labels that have been previously applied to the columns
in question, <code>flab()</code> knows where to find them and how to use
them.</p>
</div>
<div id="subset-using-labels-with-slab" class="section level3">
<h3>“Subset using labels” with <code>slab()</code></h3>
<p>As with <code>base::subset()</code>, we can also limit which columns
we return. In this case, we filter on two value-labeled columns and
return a data.frame consisting of only those columns.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">slab</span>(df, raceth <span class="sc">==</span> <span class="st">&quot;Black&quot;</span> <span class="sc">&amp;</span> gender <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>, gender, raceth)</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="fu">head</span>(df2, <span class="dv">10</span>)</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="do">### &gt;       gender raceth</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="do">### &gt; K-6        0      2</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a><span class="do">### &gt; F-22       0      2</span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a><span class="do">### &gt; E-30       0      2</span></span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a><span class="do">### &gt; O-46       0      2</span></span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a><span class="do">### &gt; Q-48       0      2</span></span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a><span class="do">### &gt; F-72       0      2</span></span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a><span class="do">### &gt; T-117      0      2</span></span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a><span class="do">### &gt; K-149      0      2</span></span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a><span class="do">### &gt; M-161      0      2</span></span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a><span class="do">### &gt; A-167      0      2</span></span></code></pre></div>
<p>In the case of <code>slab()</code>, we simply list the desired
columns – unquoted and comma-separated – after the filter</p>
</div>
</div>
<div id="using-name-labels" class="section level2">
<h2>“Using” NAME labels</h2>
<p>Just as we used <code>use_val_labs()</code> to swap out values for
value labels, we can use <code>use_name_labs()</code> to swap out
variable names for variable NAME labels. Let’s illustrate this with the
mtcars data.frame.</p>
<p>First we’ll construct a vector of named labels.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>names_labs_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>  <span class="st">&quot;mpg&quot;</span> <span class="ot">=</span> <span class="st">&quot;Miles/(US) gallon&quot;</span>,</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>  <span class="st">&quot;cyl&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of cylinders&quot;</span>,</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>  <span class="st">&quot;disp&quot;</span> <span class="ot">=</span> <span class="st">&quot;Displacement (cu.in.)&quot;</span>,</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>  <span class="st">&quot;hp&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gross horsepower&quot;</span>,</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>  <span class="st">&quot;drat&quot;</span> <span class="ot">=</span> <span class="st">&quot;Rear axle ratio&quot;</span>,</span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>  <span class="st">&quot;wt&quot;</span> <span class="ot">=</span> <span class="st">&quot;Weight (1000 lbs)&quot;</span>,</span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>  <span class="st">&quot;qsec&quot;</span> <span class="ot">=</span> <span class="st">&quot;1/4 mile time&quot;</span>,</span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>  <span class="st">&quot;vs&quot;</span> <span class="ot">=</span> <span class="st">&quot;Engine (0 = V-shaped, 1 = straight)&quot;</span>,</span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>  <span class="st">&quot;am&quot;</span> <span class="ot">=</span> <span class="st">&quot;Transmission (0 = automatic, 1 = manual)&quot;</span>,</span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a>  <span class="st">&quot;gear&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of forward gears&quot;</span>,</span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a>  <span class="st">&quot;carb&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of carburetors&quot;</span></span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a>)</span></code></pre></div>
<p>Now, we will apply them to mtcars and assign the resulting data.frame
to a new data.frame called mt2.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_name_labs</span>(mtcars,</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>  <span class="at">vars =</span> <span class="fu">names</span>(names_labs_vec),</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>  <span class="at">labs =</span> names_labs_vec</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>)</span></code></pre></div>
<p>Here is an alternative <code>add_name_labs()</code> syntax that would
get us to the same end state:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">add_name_labs</span>(mtcars,</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>  <span class="at">name.labs =</span> <span class="fu">c</span>(</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>    <span class="st">&quot;mpg&quot;</span> <span class="ot">=</span> <span class="st">&quot;Miles/(US) gallon&quot;</span>,</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>    <span class="st">&quot;cyl&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of cylinders&quot;</span>,</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>    <span class="st">&quot;disp&quot;</span> <span class="ot">=</span> <span class="st">&quot;Displacement (cu.in.)&quot;</span>,</span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>    <span class="st">&quot;hp&quot;</span> <span class="ot">=</span> <span class="st">&quot;Gross horsepower&quot;</span>,</span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a>    <span class="st">&quot;drat&quot;</span> <span class="ot">=</span> <span class="st">&quot;Rear axle ratio&quot;</span>,</span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a>    <span class="st">&quot;wt&quot;</span> <span class="ot">=</span> <span class="st">&quot;Weight (1000 lbs)&quot;</span>,</span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a>    <span class="st">&quot;qsec&quot;</span> <span class="ot">=</span> <span class="st">&quot;1/4 mile time&quot;</span>,</span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a>    <span class="st">&quot;vs&quot;</span> <span class="ot">=</span> <span class="st">&quot;Engine (0 = V-shaped, 1 = straight)&quot;</span>,</span>
<span id="cb27-11"><a href="#cb27-11" tabindex="-1"></a>    <span class="st">&quot;am&quot;</span> <span class="ot">=</span> <span class="st">&quot;Transmission (0 = automatic, 1 = manual)&quot;</span>,</span>
<span id="cb27-12"><a href="#cb27-12" tabindex="-1"></a>    <span class="st">&quot;gear&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of forward gears&quot;</span>,</span>
<span id="cb27-13"><a href="#cb27-13" tabindex="-1"></a>    <span class="st">&quot;carb&quot;</span> <span class="ot">=</span> <span class="st">&quot;Number of carburetors&quot;</span></span>
<span id="cb27-14"><a href="#cb27-14" tabindex="-1"></a>  )</span>
<span id="cb27-15"><a href="#cb27-15" tabindex="-1"></a>)</span></code></pre></div>
<p>Now, let’s swap out names for NAME labels.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">use_name_labs</span>(mt2)</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="fu">head</span>(mt2[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)])</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="do">### &gt;                   Miles/(US) gallon Number of cylinders</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="do">### &gt; Mazda RX4                      21.0                   6</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag                  21.0                   6</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="do">### &gt; Datsun 710                     22.8                   4</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive                 21.4                   6</span></span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout              18.7                   8</span></span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a><span class="do">### &gt; Valiant                        18.1                   6</span></span></code></pre></div>
<p>Yikes, the longer column names stretch things out quite a bit. Even
so, if we wish to keep our name labels “on” and work with them as our
new column names, one approach is to use <code>get_name_labs</code> to
get a look-up table, then use copy-and-paste or RStudio auto-complete
capabilities to “hand jam” these into subsequent calls.</p>
<p>For example:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">lm</span>(<span class="st">`</span><span class="at">Miles/(US) gallon</span><span class="st">`</span> <span class="sc">~</span> <span class="st">`</span><span class="at">Number of cylinders</span><span class="st">`</span>, <span class="at">data =</span> mt2) <span class="co"># pasting in var names</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="do">### &gt; Call:</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a><span class="do">### &gt; lm(formula = `Miles/(US) gallon` ~ `Number of cylinders`, data = mt2)</span></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a><span class="do">### &gt; Coefficients:</span></span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a><span class="do">### &gt;           (Intercept)  `Number of cylinders`  </span></span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a><span class="do">### &gt;                37.885                 -2.876</span></span>
<span id="cb29-9"><a href="#cb29-9" tabindex="-1"></a><span class="fu">lm</span>(mpg <span class="sc">~</span> cyl, <span class="at">data =</span> <span class="fu">use_var_names</span>(mt2)) <span class="co"># same result if name labels are &quot;off&quot;</span></span>
<span id="cb29-10"><a href="#cb29-10" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb29-11"><a href="#cb29-11" tabindex="-1"></a><span class="do">### &gt; Call:</span></span>
<span id="cb29-12"><a href="#cb29-12" tabindex="-1"></a><span class="do">### &gt; lm(formula = mpg ~ cyl, data = use_var_names(mt2))</span></span>
<span id="cb29-13"><a href="#cb29-13" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb29-14"><a href="#cb29-14" tabindex="-1"></a><span class="do">### &gt; Coefficients:</span></span>
<span id="cb29-15"><a href="#cb29-15" tabindex="-1"></a><span class="do">### &gt; (Intercept)          cyl  </span></span>
<span id="cb29-16"><a href="#cb29-16" tabindex="-1"></a><span class="do">### &gt;      37.885       -2.876</span></span></code></pre></div>
<p>While this works, freehand typing or copy-and-paste is clunky and
quickly becomes tedious. There are other less painful ways we can use
these NAME labels, once we’ve swapped them in for our original column
names using <code>use_name_labs()</code> (as in the above example). For
instance, we can take advantage of commands that work over all columns
of a data.frame and, hence, don’t require us to type individual column
names. Here are a few illustrative examples.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="fu">sapply</span>(mt2, median) <span class="co"># get the median for every name-labeled variable</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="do">### &gt;                        Miles/(US) gallon </span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="do">### &gt;                                   19.200 </span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="do">### &gt;                      Number of cylinders </span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a><span class="do">### &gt;                                    6.000 </span></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="do">### &gt;                    Displacement (cu.in.) </span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="do">### &gt;                                  196.300 </span></span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a><span class="do">### &gt;                         Gross horsepower </span></span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a><span class="do">### &gt;                                  123.000 </span></span>
<span id="cb30-10"><a href="#cb30-10" tabindex="-1"></a><span class="do">### &gt;                          Rear axle ratio </span></span>
<span id="cb30-11"><a href="#cb30-11" tabindex="-1"></a><span class="do">### &gt;                                    3.695 </span></span>
<span id="cb30-12"><a href="#cb30-12" tabindex="-1"></a><span class="do">### &gt;                        Weight (1000 lbs) </span></span>
<span id="cb30-13"><a href="#cb30-13" tabindex="-1"></a><span class="do">### &gt;                                    3.325 </span></span>
<span id="cb30-14"><a href="#cb30-14" tabindex="-1"></a><span class="do">### &gt;                            1/4 mile time </span></span>
<span id="cb30-15"><a href="#cb30-15" tabindex="-1"></a><span class="do">### &gt;                                   17.710 </span></span>
<span id="cb30-16"><a href="#cb30-16" tabindex="-1"></a><span class="do">### &gt;      Engine (0 = V-shaped, 1 = straight) </span></span>
<span id="cb30-17"><a href="#cb30-17" tabindex="-1"></a><span class="do">### &gt;                                    0.000 </span></span>
<span id="cb30-18"><a href="#cb30-18" tabindex="-1"></a><span class="do">### &gt; Transmission (0 = automatic, 1 = manual) </span></span>
<span id="cb30-19"><a href="#cb30-19" tabindex="-1"></a><span class="do">### &gt;                                    0.000 </span></span>
<span id="cb30-20"><a href="#cb30-20" tabindex="-1"></a><span class="do">### &gt;                  Number of forward gears </span></span>
<span id="cb30-21"><a href="#cb30-21" tabindex="-1"></a><span class="do">### &gt;                                    4.000 </span></span>
<span id="cb30-22"><a href="#cb30-22" tabindex="-1"></a><span class="do">### &gt;                    Number of carburetors </span></span>
<span id="cb30-23"><a href="#cb30-23" tabindex="-1"></a><span class="do">### &gt;                                    2.000</span></span>
<span id="cb30-24"><a href="#cb30-24" tabindex="-1"></a></span>
<span id="cb30-25"><a href="#cb30-25" tabindex="-1"></a>collapse<span class="sc">::</span><span class="fu">qsu</span>(mt2) <span class="co"># use an external package for more informative descriptives</span></span>
<span id="cb30-26"><a href="#cb30-26" tabindex="-1"></a><span class="do">### &gt;                                            N      Mean        SD    Min    Max</span></span>
<span id="cb30-27"><a href="#cb30-27" tabindex="-1"></a><span class="do">### &gt; Miles/(US) gallon                         32   20.0906    6.0269   10.4   33.9</span></span>
<span id="cb30-28"><a href="#cb30-28" tabindex="-1"></a><span class="do">### &gt; Number of cylinders                       32    6.1875    1.7859      4      8</span></span>
<span id="cb30-29"><a href="#cb30-29" tabindex="-1"></a><span class="do">### &gt; Displacement (cu.in.)                     32  230.7219  123.9387   71.1    472</span></span>
<span id="cb30-30"><a href="#cb30-30" tabindex="-1"></a><span class="do">### &gt; Gross horsepower                          32  146.6875   68.5629     52    335</span></span>
<span id="cb30-31"><a href="#cb30-31" tabindex="-1"></a><span class="do">### &gt; Rear axle ratio                           32    3.5966    0.5347   2.76   4.93</span></span>
<span id="cb30-32"><a href="#cb30-32" tabindex="-1"></a><span class="do">### &gt; Weight (1000 lbs)                         32    3.2173    0.9785  1.513  5.424</span></span>
<span id="cb30-33"><a href="#cb30-33" tabindex="-1"></a><span class="do">### &gt; 1/4 mile time                             32   17.8487    1.7869   14.5   22.9</span></span>
<span id="cb30-34"><a href="#cb30-34" tabindex="-1"></a><span class="do">### &gt; Engine (0 = V-shaped, 1 = straight)       32    0.4375     0.504      0      1</span></span>
<span id="cb30-35"><a href="#cb30-35" tabindex="-1"></a><span class="do">### &gt; Transmission (0 = automatic, 1 = manual)  32    0.4063     0.499      0      1</span></span>
<span id="cb30-36"><a href="#cb30-36" tabindex="-1"></a><span class="do">### &gt; Number of forward gears                   32    3.6875    0.7378      3      5</span></span>
<span id="cb30-37"><a href="#cb30-37" tabindex="-1"></a><span class="do">### &gt; Number of carburetors                     32    2.8125    1.6152      1      8</span></span></code></pre></div>
<p>Another approach is to use <code>with_name_labs()</code> (or its more
compact alias <code>wnl()</code>), which will automatically display name
labels in place of column names in fairly flexible ways.
<code>with_name_labs()</code> is an alternative approach that you can
call on the regular, name-labeled data.frame. You should
<strong>not</strong> call it on a data.frame after swapping in name
labels with <code>use_name_labs()</code>.</p>
<p>With that said, let’s revert back to our original column names, then
we’ll verify that the name labels are still there in the background,
<strong>then</strong> we’ll take <code>with_name_labs()</code> for a
spin.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># invert our prior use_name_labs() call</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>mt2 <span class="ot">&lt;-</span> <span class="fu">use_var_names</span>(mt2) <span class="co"># revert from name labels back to original colnames</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="fu">head</span>(mt2[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)])</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="do">### &gt;                    mpg cyl</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a><span class="do">### &gt; Mazda RX4         21.0   6</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag     21.0   6</span></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a><span class="do">### &gt; Datsun 710        22.8   4</span></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive    21.4   6</span></span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout 18.7   8</span></span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="do">### &gt; Valiant           18.1   6</span></span></code></pre></div>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># first, show that mt2 now has original column names swapped back in</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="fu">head</span>(mt2)</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="do">### &gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="do">### &gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="do">### &gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="do">### &gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a><span class="do">### &gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a><span class="do">### &gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a><span class="do">### &gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span></span>
<span id="cb32-10"><a href="#cb32-10" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" tabindex="-1"></a><span class="co"># verify that the name labels are still present and available in the background</span></span>
<span id="cb32-12"><a href="#cb32-12" tabindex="-1"></a><span class="fu">get_name_labs</span>(mt2)</span>
<span id="cb32-13"><a href="#cb32-13" tabindex="-1"></a><span class="do">### &gt;     var                                      lab</span></span>
<span id="cb32-14"><a href="#cb32-14" tabindex="-1"></a><span class="do">### &gt; 1   mpg                        Miles/(US) gallon</span></span>
<span id="cb32-15"><a href="#cb32-15" tabindex="-1"></a><span class="do">### &gt; 2   cyl                      Number of cylinders</span></span>
<span id="cb32-16"><a href="#cb32-16" tabindex="-1"></a><span class="do">### &gt; 3  disp                    Displacement (cu.in.)</span></span>
<span id="cb32-17"><a href="#cb32-17" tabindex="-1"></a><span class="do">### &gt; 4    hp                         Gross horsepower</span></span>
<span id="cb32-18"><a href="#cb32-18" tabindex="-1"></a><span class="do">### &gt; 5  drat                          Rear axle ratio</span></span>
<span id="cb32-19"><a href="#cb32-19" tabindex="-1"></a><span class="do">### &gt; 6    wt                        Weight (1000 lbs)</span></span>
<span id="cb32-20"><a href="#cb32-20" tabindex="-1"></a><span class="do">### &gt; 7  qsec                            1/4 mile time</span></span>
<span id="cb32-21"><a href="#cb32-21" tabindex="-1"></a><span class="do">### &gt; 8    vs      Engine (0 = V-shaped, 1 = straight)</span></span>
<span id="cb32-22"><a href="#cb32-22" tabindex="-1"></a><span class="do">### &gt; 9    am Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb32-23"><a href="#cb32-23" tabindex="-1"></a><span class="do">### &gt; 10 gear                  Number of forward gears</span></span>
<span id="cb32-24"><a href="#cb32-24" tabindex="-1"></a><span class="do">### &gt; 11 carb                    Number of carburetors</span></span></code></pre></div>
<p>Note that this sort of switching back and forth between your original
column names and name labels (i.e., <code>use_name_labs()</code> and
<code>use_var_names()</code>) assumes you are <strong>not</strong>
otherwise modifying your either set of names in the interim.</p>
<p>Now, pay attention to the variable names in the console output of the
following calls to <code>with_name_labs()</code>.You’ll be using the
familiar column names in your function call expressions, but their
corresponding name labels will appear in the console output.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># demo with_name_labs() (note that with_name_labs() will achieve same result)</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="fu">with_name_labs</span>(mt2, <span class="fu">t.test</span>(mpg <span class="sc">~</span> am)) <span class="co"># wnl() is alias for with_name_labs()</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="do">### &gt;   Welch Two Sample t-test</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="do">### &gt; data:  Miles/(US) gallon by Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a><span class="do">### &gt; t = -3.7671, df = 18.332, p-value = 0.001374</span></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a><span class="do">### &gt; alternative hypothesis: true difference in means between group 0 and group 1 is not equal to 0</span></span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a><span class="do">### &gt; 95 percent confidence interval:</span></span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="do">### &gt;  -11.280194  -3.209684</span></span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a><span class="do">### &gt; sample estimates:</span></span>
<span id="cb33-12"><a href="#cb33-12" tabindex="-1"></a><span class="do">### &gt; mean in group 0 mean in group 1 </span></span>
<span id="cb33-13"><a href="#cb33-13" tabindex="-1"></a><span class="do">### &gt;        17.14737        24.39231</span></span>
<span id="cb33-14"><a href="#cb33-14" tabindex="-1"></a></span>
<span id="cb33-15"><a href="#cb33-15" tabindex="-1"></a><span class="fu">with_name_labs</span>(mt2, <span class="fu">lm</span>(mpg <span class="sc">~</span> am))</span>
<span id="cb33-16"><a href="#cb33-16" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb33-17"><a href="#cb33-17" tabindex="-1"></a><span class="do">### &gt; Call:</span></span>
<span id="cb33-18"><a href="#cb33-18" tabindex="-1"></a><span class="do">### &gt; lm(formula = `Miles/(US) gallon` ~ `Transmission (0 = automatic, 1 = manual)`)</span></span>
<span id="cb33-19"><a href="#cb33-19" tabindex="-1"></a><span class="do">### &gt; </span></span>
<span id="cb33-20"><a href="#cb33-20" tabindex="-1"></a><span class="do">### &gt; Coefficients:</span></span>
<span id="cb33-21"><a href="#cb33-21" tabindex="-1"></a><span class="do">### &gt;                                (Intercept)  </span></span>
<span id="cb33-22"><a href="#cb33-22" tabindex="-1"></a><span class="do">### &gt;                                     17.147  </span></span>
<span id="cb33-23"><a href="#cb33-23" tabindex="-1"></a><span class="do">### &gt; `Transmission (0 = automatic, 1 = manual)`  </span></span>
<span id="cb33-24"><a href="#cb33-24" tabindex="-1"></a><span class="do">### &gt;                                      7.245</span></span>
<span id="cb33-25"><a href="#cb33-25" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" tabindex="-1"></a><span class="fu">wnl</span>(mt2, <span class="fu">summary</span>(mt2)) <span class="co"># wnl() is alias for with_name_labs()</span></span>
<span id="cb33-27"><a href="#cb33-27" tabindex="-1"></a><span class="do">### &gt;  Miles/(US) gallon Number of cylinders Displacement (cu.in.) Gross horsepower</span></span>
<span id="cb33-28"><a href="#cb33-28" tabindex="-1"></a><span class="do">### &gt;  Min.   :10.40     Min.   :4.000       Min.   : 71.1         Min.   : 52.0   </span></span>
<span id="cb33-29"><a href="#cb33-29" tabindex="-1"></a><span class="do">### &gt;  1st Qu.:15.43     1st Qu.:4.000       1st Qu.:120.8         1st Qu.: 96.5   </span></span>
<span id="cb33-30"><a href="#cb33-30" tabindex="-1"></a><span class="do">### &gt;  Median :19.20     Median :6.000       Median :196.3         Median :123.0   </span></span>
<span id="cb33-31"><a href="#cb33-31" tabindex="-1"></a><span class="do">### &gt;  Mean   :20.09     Mean   :6.188       Mean   :230.7         Mean   :146.7   </span></span>
<span id="cb33-32"><a href="#cb33-32" tabindex="-1"></a><span class="do">### &gt;  3rd Qu.:22.80     3rd Qu.:8.000       3rd Qu.:326.0         3rd Qu.:180.0   </span></span>
<span id="cb33-33"><a href="#cb33-33" tabindex="-1"></a><span class="do">### &gt;  Max.   :33.90     Max.   :8.000       Max.   :472.0         Max.   :335.0   </span></span>
<span id="cb33-34"><a href="#cb33-34" tabindex="-1"></a><span class="do">### &gt;  Rear axle ratio Weight (1000 lbs) 1/4 mile time  </span></span>
<span id="cb33-35"><a href="#cb33-35" tabindex="-1"></a><span class="do">### &gt;  Min.   :2.760   Min.   :1.513     Min.   :14.50  </span></span>
<span id="cb33-36"><a href="#cb33-36" tabindex="-1"></a><span class="do">### &gt;  1st Qu.:3.080   1st Qu.:2.581     1st Qu.:16.89  </span></span>
<span id="cb33-37"><a href="#cb33-37" tabindex="-1"></a><span class="do">### &gt;  Median :3.695   Median :3.325     Median :17.71  </span></span>
<span id="cb33-38"><a href="#cb33-38" tabindex="-1"></a><span class="do">### &gt;  Mean   :3.597   Mean   :3.217     Mean   :17.85  </span></span>
<span id="cb33-39"><a href="#cb33-39" tabindex="-1"></a><span class="do">### &gt;  3rd Qu.:3.920   3rd Qu.:3.610     3rd Qu.:18.90  </span></span>
<span id="cb33-40"><a href="#cb33-40" tabindex="-1"></a><span class="do">### &gt;  Max.   :4.930   Max.   :5.424     Max.   :22.90  </span></span>
<span id="cb33-41"><a href="#cb33-41" tabindex="-1"></a><span class="do">### &gt;  Engine (0 = V-shaped, 1 = straight) Transmission (0 = automatic, 1 = manual)</span></span>
<span id="cb33-42"><a href="#cb33-42" tabindex="-1"></a><span class="do">### &gt;  Min.   :0.0000                      Min.   :0.0000                          </span></span>
<span id="cb33-43"><a href="#cb33-43" tabindex="-1"></a><span class="do">### &gt;  1st Qu.:0.0000                      1st Qu.:0.0000                          </span></span>
<span id="cb33-44"><a href="#cb33-44" tabindex="-1"></a><span class="do">### &gt;  Median :0.0000                      Median :0.0000                          </span></span>
<span id="cb33-45"><a href="#cb33-45" tabindex="-1"></a><span class="do">### &gt;  Mean   :0.4375                      Mean   :0.4062                          </span></span>
<span id="cb33-46"><a href="#cb33-46" tabindex="-1"></a><span class="do">### &gt;  3rd Qu.:1.0000                      3rd Qu.:1.0000                          </span></span>
<span id="cb33-47"><a href="#cb33-47" tabindex="-1"></a><span class="do">### &gt;  Max.   :1.0000                      Max.   :1.0000                          </span></span>
<span id="cb33-48"><a href="#cb33-48" tabindex="-1"></a><span class="do">### &gt;  Number of forward gears Number of carburetors</span></span>
<span id="cb33-49"><a href="#cb33-49" tabindex="-1"></a><span class="do">### &gt;  Min.   :3.000           Min.   :1.000        </span></span>
<span id="cb33-50"><a href="#cb33-50" tabindex="-1"></a><span class="do">### &gt;  1st Qu.:3.000           1st Qu.:2.000        </span></span>
<span id="cb33-51"><a href="#cb33-51" tabindex="-1"></a><span class="do">### &gt;  Median :4.000           Median :2.000        </span></span>
<span id="cb33-52"><a href="#cb33-52" tabindex="-1"></a><span class="do">### &gt;  Mean   :3.688           Mean   :2.812        </span></span>
<span id="cb33-53"><a href="#cb33-53" tabindex="-1"></a><span class="do">### &gt;  3rd Qu.:4.000           3rd Qu.:4.000        </span></span>
<span id="cb33-54"><a href="#cb33-54" tabindex="-1"></a><span class="do">### &gt;  Max.   :5.000           Max.   :8.000</span></span>
<span id="cb33-55"><a href="#cb33-55" tabindex="-1"></a></span>
<span id="cb33-56"><a href="#cb33-56" tabindex="-1"></a><span class="fu">wnl</span>(mt2, <span class="fu">xtabs</span>(<span class="sc">~</span>gear)) <span class="co"># wnl() is alias for with_name_labs()</span></span>
<span id="cb33-57"><a href="#cb33-57" tabindex="-1"></a><span class="do">### &gt; Number of forward gears</span></span>
<span id="cb33-58"><a href="#cb33-58" tabindex="-1"></a><span class="do">### &gt;  3  4  5 </span></span>
<span id="cb33-59"><a href="#cb33-59" tabindex="-1"></a><span class="do">### &gt; 15 12  5</span></span>
<span id="cb33-60"><a href="#cb33-60" tabindex="-1"></a></span>
<span id="cb33-61"><a href="#cb33-61" tabindex="-1"></a><span class="fu">with</span>(mt2, <span class="fu">xtabs</span>(<span class="sc">~</span>gear)) <span class="co"># compare this base::with() call to wnl() call above</span></span>
<span id="cb33-62"><a href="#cb33-62" tabindex="-1"></a><span class="do">### &gt; gear</span></span>
<span id="cb33-63"><a href="#cb33-63" tabindex="-1"></a><span class="do">### &gt;  3  4  5 </span></span>
<span id="cb33-64"><a href="#cb33-64" tabindex="-1"></a><span class="do">### &gt; 15 12  5</span></span></code></pre></div>
<p>Keep in mind that <code>with_name_labs()</code> is intended for
self-contained calls involving exploratory analysis activities – things
like simple plots, descriptives, and models. The underlying function is
based on simple regular expressions and <strong>will throw an
error</strong> if you attempt to use it in contexts involving (1) exotic
or non-standard operators, (2) multi-step workflows (e.g., pipes), OR
(3) data management and cleaning commands. Still, as shown above, it
plays well with a range of “workhorse” exploratory and descriptive
commands.</p>
</div>
<div id="alias-functions-and-conclusion" class="section level2">
<h2>Alias Functions and Conclusion</h2>
<p>This concludes our whirlwind tour of labelr functionalities. You’ve
graduated.</p>
<p>Well, almost. Before you go, here is a list of aliases for common
functions. Aside from having a different name, each alias function is
identical to (i.e., performs the same operations, returning the same
result as) the parent function that it aliases. More concise and more
cryptic, these alias functions will save you some typing at the console
(and some characters in your scripts).</p>
<p>The available aliases are as follows:</p>
<ul>
<li><p><code>add_val_labs</code> alias is <code>avl</code></p></li>
<li><p><code>get_val_labs</code> alias is <code>gvl</code></p></li>
<li><p><code>drop_val_labs</code> alias is <code>dvl</code></p></li>
<li><p><code>add_val1</code> alias is <code>avl1</code></p></li>
<li><p><code>drop_val1</code> alias is <code>dvl1</code></p></li>
<li><p><code>add_quant_labs</code> alias is <code>aql</code></p></li>
<li><p><code>all_quant_labs</code> alias is <code>allq</code></p></li>
<li><p><code>add_quant1</code> alias is <code>aq1</code></p></li>
<li><p><code>add_m1_lab</code> alias is <code>am1l</code></p></li>
<li><p><code>use_val_labs</code> alias is <code>uvl</code></p></li>
<li><p><code>use_val_lab1</code> alias is <code>uvl1</code></p></li>
<li><p><code>with_val_labs</code> alias is <code>wvl</code></p></li>
<li><p><code>add_lab_cols</code> alias is <code>alc</code></p></li>
<li><p><code>add_lab_col1</code> alias is <code>alc1</code></p></li>
<li><p><code>add_lab_dummies</code> is <code>ald</code></p></li>
<li><p><code>add_lab_dumm1</code> is <code>ald1</code></p></li>
<li><p><code>lab_int_to_factor</code> is <code>int2f</code></p></li>
<li><p><code>factor_to_lab_int</code> is <code>f2int</code></p></li>
<li><p><code>add_name_labs</code> is <code>anl</code></p></li>
<li><p><code>get_name_labs</code> alias is <code>gnl</code></p></li>
<li><p><code>drop_name_labs</code> alias is <code>dnl</code></p></li>
<li><p><code>use_name_labs</code> alias is <code>unl</code></p></li>
<li><p><code>use_var_names</code> alias is <code>uvn</code></p></li>
<li><p><code>with_name_labs</code> alias is <code>wnl</code></p></li>
<li><p><code>with_both_labs</code> alias is <code>wbl</code></p></li>
<li><p><code>add_frame_lab</code> alias is <code>afl</code></p></li>
<li><p><code>get_frame_lab</code> alias is <code>gfl</code></p></li>
<li><p><code>drop_frame_lab</code> alias is <code>dfl</code></p></li>
<li><p><code>axis_lab</code> is <code>alb</code></p></li>
</ul>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
